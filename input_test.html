<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>聚勢成ONE 共創凱壽</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/paho-mqtt/1.0.1/mqttws31.min.js"></script>
    <style>
        :root {
            --bg-color: #000510;
            --neon-cyan: #00ffff;

            --kgi-blue: #00479d;
            --kgi-orange: #f58025;
            --kgi-green: #5cba46;
            --kgi-white: #ffffff;
            --vip-gold: #ffd700;

            --grid-size: min(8.2vh, 8.2vw);
        }

        body {
            margin: 0; padding: 0;
            background-color: var(--bg-color);
            color: white;
            font-family: "Microsoft JhengHei", sans-serif;
            height: 100vh; overflow: hidden;
        }

        #vip-flash-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: white; opacity: 0; pointer-events: none; z-index: 9999;
            transition: opacity 0.1s;
        }
        .flash-soft { opacity: 0.25 !important; transition: opacity 1s !important; }

        #particles-js {
            position: absolute; width: 100%; height: 100%;
            background: radial-gradient(ellipse at bottom, #0c2441 0%, #000000 80%);
            z-index: 1; overflow: hidden; pointer-events: none;
        }
        .warp-star {
            position: absolute; width: 4px; height: 4px; background: var(--neon-cyan);
            border-radius: 50%; opacity: 0; box-shadow: 0 0 10px var(--neon-cyan);
            animation: warpSpeed var(--duration) linear infinite; animation-delay: var(--delay);
        }
        @keyframes warpSpeed {
            0% { opacity: 0; transform: translateY(0) scale(0.5); }
            10% { opacity: 1; }
            100% { opacity: 0; transform: translateY(-100vh) scale(5); height: 100px; }
        }

        .layout-wrapper { display: flex; width: 100%; height: 100%; position: relative; z-index: 10; }

        .main-display {
            flex: 3; position: relative;
            display: flex; justify-content: center; align-items: center;
            background-image: linear-gradient(transparent 50%, rgba(0, 0, 0, 0.5) 50%), radial-gradient(transparent, black);
            background-size: 10px 10px, 100% 100%;
            perspective: 1200px; perspective-origin: 50% 90%;
            overflow: hidden;
        }

        .title {
            position: absolute;
            top: 3vh;
            width: 100%; text-align: center;
            font-size: 3.5rem;
            color: rgba(255, 215, 0, 0.85);
            text-shadow: 0 0 10px rgba(0, 71, 157, 0.5);
            letter-spacing: 12px; font-weight: 900; z-index: 20;
            transition: all 1s ease-out;
            transform: scale(0.9);
        }

        .slogan {
            position: absolute; bottom: 3vh; width: 100%; text-align: center;
            font-size: 2.2rem; font-weight: bold; z-index: 20;
            color: rgba(255, 215, 0, 0.85);
            text-shadow: none;
            opacity: 0; transition: opacity 1s; pointer-events: none;
        }

        .cinematic-gold {
            opacity: 1 !important;
            transform: scale(1.1) !important;
            color: transparent !important;

            background: linear-gradient(
                110deg,
                #b8860b 10%,
                #ffd700 30%,
                #ffffff 50%,
                #ffd700 70%,
                #b8860b 90%
            );
            background-size: 200% auto;
            -webkit-background-clip: text !important;
            background-clip: text !important;

            filter: drop-shadow(0 0 5px #ffd700) drop-shadow(0 0 20px #ff8c00) drop-shadow(0 5px 15px black);

            animation:
                cinematicEntrance 1s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards,
                liquidFlow 3s linear infinite !important;
        }

        @keyframes cinematicEntrance {
            0% { transform: scale(3) translateY(-50px); opacity: 0; letter-spacing: 50px; filter: blur(20px); }
            100% { transform: scale(1.1) translateY(0); opacity: 1; letter-spacing: 12px; filter: blur(0); }
        }
        @keyframes liquidFlow {
            0% { background-position: 0% center; }
            100% { background-position: 200% center; }
        }

        .building-wrapper {
            position: relative; padding: 0; border: none; box-shadow: none; z-index: 10;
            transform: rotateX(15deg) translateY(20px);
            transform-style: preserve-3d;
            display: flex; justify-content: center; align-items: center;
            transition: transform 2s ease-in-out;
        }
        .building-dimmed {
            filter: brightness(0.7);
            transform: rotateX(15deg) translateY(20px) translateZ(-50px) !important;
        }

        .building-grid { display: grid; gap: 0.5vh; margin: 0 auto; }

        .piece {
            width: var(--grid-size); height: var(--grid-size);
            background-color: rgba(0, 15, 30, 0.6);
            border: 1px solid rgba(0, 150, 255, 0.2);
            box-shadow: inset 0 0 20px rgba(0,0,0,0.8);
            border-radius: 4px; position: relative;
            animation: unstableEnergy 0.8s infinite alternate steps(5);
        }
        @keyframes unstableEnergy {
            0% { border-color: rgba(0, 150, 255, 0.2); }
            100% { border-color: rgba(0, 255, 255, 0.35); box-shadow: inset 0 0 10px var(--kgi-blue); }
        }
        .spacer { width: var(--grid-size); height: var(--grid-size); background: transparent; pointer-events: none; }

        .piece.vip-star {
            background: linear-gradient(135deg, #bf953f, #fcf6ba, #b38728, #fbf5b7, #aa771c);
            border: 1px solid rgba(255, 255, 255, 0.5);
            clip-path: polygon(50% 0%, 61% 35%, 98% 35%, 68% 57%, 79% 91%, 50% 70%, 21% 91%, 32% 57%, 2% 35%, 39% 35%);
            transform: scale(1.1);
            filter: drop-shadow(0 0 5px rgba(255, 215, 0, 0.5));
        }

        .sidebar {
            flex: 1; background: rgba(5, 15, 30, 0.85); border-left: 3px solid var(--kgi-blue);
            box-shadow: -20px 0 50px rgba(0, 100, 255, 0.2);
            display: flex; flex-direction: column; z-index